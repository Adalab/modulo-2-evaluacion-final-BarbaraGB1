"use strict";const personajesList=document.querySelector(".js-charac"),btnSearch=document.querySelector(".js-btnSearch"),input=document.querySelector(".js-inputSearch"),favouritesList=document.querySelector(".js-select");let character=[],favourites=[];function listenCurrent(){const e=document.querySelectorAll(".js-clickCharacter");for(const r of e)r.addEventListener("click",handleClickFav)}function handleClickFav(e){console.log(e.currentTarget.id),e.currentTarget.classList.toggle("selected");const r=character.find(r=>r.char_id===parseInt(e.currentTarget.id)),t=favourites.findIndex(r=>r.char_id===parseInt(e.currentTarget.id));-1===t?favourites.push(r):favourites.splice(t,1),localStorage.setItem("favourites",JSON.stringify(favourites)),renderFavourites()}function renderFavourites(){let e="";for(const r of favourites)e+=paintCharacter(r);favouritesList.innerHTML=e}function paintCharacter(e){return`<li class="listRender"><article id="${e.char_id}" class= "article js-clickCharacter"><img class="imgActor" src="${e.img}" alt="Imagen actor/actriz"><h2>${e.name}</h2><h3>${e.status}</h3></article></li>`}function renderSearch(e){let r="";for(let t=0;t<e.length;t++)r+=paintCharacter(e[t]);personajesList.innerHTML=r,listenCurrent()}function handlerClick(e){e.preventDefault();const r=input.value.toLowerCase();renderSearch(character.filter(e=>e.name.toLowerCase().includes(r)))}fetch("https://breakingbadapi.com/api/characters").then(e=>e.json()).then(e=>{character=e,renderSearch(character)}),btnSearch.addEventListener("click",handlerClick);const savedFavourites=JSON.parse(localStorage.getItem("favourites"));console.log(savedFavourites),null!==savedFavourites&&(favourites=savedFavourites,renderFavourites());